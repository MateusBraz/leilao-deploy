(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["empresa"],{"3a2f9":function(e,t,a){"use strict";a("9734");var r=a("4ad4"),i=a("a9ad"),o=a("16b7"),s=a("b848"),n=a("75eb"),l=a("f573"),c=a("f2e7"),u=a("80d2"),m=a("d9bd"),d=a("58df");function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t["a"]=Object(d["a"])(i["a"],o["a"],s["a"],n["a"],l["a"],c["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var e=this.dimensions,t=e.activator,a=e.content,r=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left,o=0;return this.top||this.bottom||r?o=i+t.width/2-a.width/2:(this.left||this.right)&&(o=i+(this.right?t.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var e=this.dimensions,t=e.activator,a=e.content,r=!1!==this.attach?t.offsetTop:t.top,i=0;return this.top||this.bottom?i=r+(this.bottom?t.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=r+t.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(u["g"])(this.maxWidth),minWidth:Object(u["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var e=this;this.$nextTick((function(){e.value&&e.callActivate()}))},mounted:function(){"v-slot"===Object(u["q"])(this,"activator",!0)&&Object(m["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var e=this,t=r["a"].options.methods.genActivatorListeners.call(this);return t.focus=function(t){e.getActivator(t),e.runDelay("open")},t.blur=function(t){e.getActivator(t),e.runDelay("close")},t.keydown=function(t){t.keyCode===u["u"].esc&&(e.getActivator(t),e.runDelay("close"))},t},genTransition:function(){var e=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[e]):e},genContent:function(){var e;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},p(e,this.contentClass,!0),p(e,"menuable__content__active",this.isActive),p(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(e){var t=this;return e(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[t.genTransition()]})),this.genActivator()])}})},9734:function(e,t,a){},b919:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("Titulo",{attrs:{titulo:"Empresa"}}),a("Formulario",{on:{criarEmpresa:function(t){return e.salvarEmpresa(t)},deletarEmpresa:function(t){return e.deletar(t)}}})],1),a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("Titulo",{attrs:{titulo:"Lista de Empresas"}}),a("transition",{attrs:{"enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},[e.mostrarTabela?a("Tabela"):e._e()],1)],1)],1)},i=[],o=a("1b01"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{ref:"form",staticClass:"pt-2 pb-2 pl-2 pr-2",attrs:{dark:"",color:"indigo darken-1"}},[a("v-text-field",{ref:"razaoSocial",attrs:{rules:[function(){return!!e.razaoSocial||"Razão social é obrigatório"},function(){return!!e.razaoSocial&&e.razaoSocial.length<=64||"Máximo 64 caracteres."}],label:"* Razão social","error-messages":e.errorMessages,placeholder:"digite a razão social aqui.",required:""},model:{value:e.razaoSocial,callback:function(t){e.razaoSocial="string"===typeof t?t.trim():t},expression:"razaoSocial"}}),a("v-text-field",{ref:"cnpj",attrs:{rules:[function(){return!!e.cnpj||"CNPJ é obrigatório"},function(){return!!e.cnpj&&e.cnpj.length<=32||"Máximo 32 caracteres."}],label:"* CNPJ",type:"number","error-messages":e.errorMessages,placeholder:"digite o CNPJ aqui.",required:""},model:{value:e.cnpj,callback:function(t){e.cnpj="string"===typeof t?t.trim():t},expression:"cnpj"}}),a("v-text-field",{ref:"logradouro",attrs:{rules:[function(){return null==e.logradouro||e.logradouro.length<=64||"Máximo 64 caracteres."}],label:"Logradouro","error-messages":e.errorMessages,placeholder:"digite logradouro aqui."},model:{value:e.logradouro,callback:function(t){e.logradouro="string"===typeof t?t.trim():t},expression:"logradouro"}}),a("v-text-field",{ref:"municipio",attrs:{rules:[function(){return null==e.municipio||e.municipio.length<=64||"Máximo 64 caracteres."}],label:"Município","error-messages":e.errorMessages,placeholder:"digite município aqui."},model:{value:e.municipio,callback:function(t){e.municipio="string"===typeof t?t.trim():t},expression:"municipio"}}),a("v-text-field",{ref:"numero",attrs:{rules:[function(){return null==e.numero||e.numero.length<=10||"Máximo 10 caracteres."}],type:"number",label:"Número","error-messages":e.errorMessages,placeholder:"digite o número aqui."},model:{value:e.numero,callback:function(t){e.numero="string"===typeof t?t.trim():t},expression:"numero"}}),a("v-text-field",{ref:"complemento",attrs:{rules:[function(){return null==e.complemento||e.complemento.length<=64||"Máximo 64 caracteres."}],label:"Complemento","error-messages":e.errorMessages,placeholder:"digite o complemento aqui."},model:{value:e.complemento,callback:function(t){e.complemento="string"===typeof t?t.trim():t},expression:"complemento"}}),a("v-text-field",{ref:"bairro",attrs:{rules:[function(){return null==e.bairro||e.bairro.length<=64||"Máximo 64 caracteres."}],label:"Bairro","error-messages":e.errorMessages,placeholder:"digite o bairro aqui."},model:{value:e.bairro,callback:function(t){e.bairro="string"===typeof t?t.trim():t},expression:"bairro"}}),a("v-text-field",{ref:"cep",attrs:{rules:[function(){return null==e.cep||e.cep.length<=10||"Máximo 10 caracteres."}],type:"number",label:"CEP","error-messages":e.errorMessages,placeholder:"digite o cep aqui."},model:{value:e.cep,callback:function(t){e.cep="string"===typeof t?t.trim():t},expression:"cep"}}),a("v-text-field",{ref:"telefone",attrs:{rules:[function(){return null==e.telefone||e.telefone.length<=32||"Máximo 32 caracteres."}],type:"number",label:"Telefone","error-messages":e.errorMessages,placeholder:"digite o telefone aqui."},model:{value:e.telefone,callback:function(t){e.telefone="string"===typeof t?t.trim():t},expression:"telefone"}}),a("v-text-field",{ref:"email",attrs:{rules:e.regrasEmail,label:"* Email","error-messages":e.errorMessages,placeholder:"digite o email aqui.",type:"email",required:""},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),a("v-text-field",{ref:"site",attrs:{rules:[function(){return null==e.site||e.site.length<=254||"Máximo 254 caracteres."}],label:"Site","error-messages":e.errorMessages,placeholder:"digite o site aqui."},model:{value:e.site,callback:function(t){e.site="string"===typeof t?t.trim():t},expression:"site"}}),a("v-text-field",{ref:"usuario",attrs:{rules:[function(){return!!e.usuario||"Usuário é obrigatório"},function(){return!!e.usuario&&e.usuario.length<=20||"Máximo 20 caracteres."}],label:"* Usuário","error-messages":e.errorMessages,placeholder:"digite o usuário aqui.",required:""},model:{value:e.usuario,callback:function(t){e.usuario="string"===typeof t?t.trim():t},expression:"usuario"}}),a("v-text-field",{ref:"senha",attrs:{"append-icon":e.mostrar?"mdi-eye":"mdi-eye-off",rules:[function(){return null==e.senha||e.senha.length<=128||"Máximo 128 caracteres."}],type:e.mostrar?"text":"password",label:"Senha","error-messages":e.errorMessages,placehordel:"digite a senha aqui.",hint:"Máximo 128 caracteres."},on:{"click:append":function(t){e.mostrar=!e.mostrar}},model:{value:e.senha,callback:function(t){e.senha="string"===typeof t?t.trim():t},expression:"senha"}}),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:e.buscarEmpresas}},[e._v("Buscar Empresas")]),a("v-spacer"),a("v-slide-x-reverse-transition",[e.formularioPossuiErros?a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"my-0",attrs:{icon:""},on:{click:e.resetarFormulario}},r),[a("v-icon",[e._v("mdi-refresh")])],1)]}}],null,!1,2603460714)},[a("span",[e._v("Refresh form")])]):e._e()],1),a("v-btn",{attrs:{color:"teal accent-3",text:""},on:{click:e.verificar}},[e._v("Salvar")])],1)],1)},n=[],l=a("f386"),c={data:function(){return{validacoes:0,id:null,mostrar:!1,formularioPossuiErros:!1,errorMessages:null,razaoSocial:null,cnpj:null,logradouro:null,municipio:null,numero:null,complemento:null,bairro:null,cep:null,telefone:null,email:null,site:null,usuario:null,senha:null,regrasEmail:[function(e){return!!e||"E-mail é obrigatório."},function(e){return/.+@.+\..+/.test(e)||"E-mail deve ser válido."}]}},created:function(){var e=this;l["a"].onAtualizarEmpresa((function(t){e.id=t.id,e.razaoSocial=t.razaoSocial,e.cnpj=t.cnpj,e.logradouro=t.logradouro,e.municipio=t.municipio,e.numero=t.numero,e.complemento=t.complemento,e.bairro=t.bairro,e.cep=t.cep,e.telefone=t.telefone,e.email=t.email,e.site=t.site,e.usuario=t.usuario,e.senha=t.senha})),l["a"].onDeletarEmpresa((function(t){e.$emit("deletarEmpresa",t.id),e.resetarFormulario()}))},computed:{form:function(){return{razaoSocial:"",cnpj:"",logradouro:"",municipio:"",numero:"",complemento:"",bairro:"",cep:"",telefone:"",email:"",site:"",usuario:"",senha:""}}},methods:{buscarEmpresas:function(){var e=this;this.get$_isHttp.get("/empresas").then((function(t){e.$store.dispatch("setEmpresas",t.data),e.$store.dispatch("setMostrarTabelaEmpresas",!0),0==t.data.length&&alert("Você não possui nenhuma empresa cadastrada!")}))},resetarFormulario:function(){var e=this;this.errorMessages=[],this.formularioPossuiErros=!1,Object.keys(this.form).forEach((function(t){e.$refs[t].reset()}))},verificar:function(){var e=this;if(this.formularioPossuiErros=!1,Object.keys(this.form).forEach((function(t){e.form[t]||(e.formularioPossuiErros=!0,e.$refs[t].validate(!0),e.$refs[t].validate(!0)&&e.validacoes++)})),13==this.validacoes){var t={id:this.id,razaoSocial:this.razaoSocial,cnpj:this.cnpj,logradouro:this.logradouro,municipio:this.municipio,numero:this.numero,complemento:this.complemento,bairro:this.bairro,cep:this.cep,telefone:this.telefone,email:this.email,site:this.site,usuario:this.usuario,senha:this.senha,createdAt:"",updatedAt:""};this.$emit("criarEmpresa",t),this.$store.dispatch("setMostrarTabelaEmpresas",!1),this.resetarFormulario(),this.id=null,this.validacoes=0}else this.validacoes=0}}},u=c,m=a("2877"),d=a("6544"),p=a.n(d),f=a("8336"),h=a("b0af"),g=a("99d9"),v=a("132d"),b=a("0789"),x=a("2fa4"),y=a("8654"),E=a("3a2f9"),M=Object(m["a"])(u,s,n,!1,null,null,null),k=M.exports;p()(M,{VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VIcon:v["a"],VSlideXReverseTransition:b["d"],VSpacer:x["a"],VTextField:y["a"],VTooltip:E["a"]});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"indigo darken-1"},[a("v-card-title",[e._v(" Empresas "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}})],1),a("v-data-table",{staticClass:"mt-5 indigo lighten-3",attrs:{headers:e.cabecalhos,items:e.empresas,"single-select":!0,search:e.buscar,"item-key":"id"},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editarItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deletarItem(r)}}},[e._v(" mdi-delete ")])]}}])})],1)},_=[],S={data:function(){return{buscar:"",cabecalhos:[{text:"CNPJ",align:"start",sortable:!1,value:"cnpj"},{text:"Razão Social",align:"start",sortable:!1,value:"razaoSocial"},{text:"Telefone",align:"start",sortable:!1,value:"telefone"},{text:"Email",align:"start",sortable:!1,value:"email"},{text:"Ações",value:"actions",sortable:!1,align:"right"}]}},computed:{empresas:function(){return this.$store.getters.getEmpresas}},methods:{editarItem:function(e){l["a"].setAtualizarEmpresa(e)},deletarItem:function(e){confirm("Tem certeza de que deseja excluir esta empresa?")&&this.$store.dispatch("setMostrarTabelaEmpresas",!1)&&l["a"].setDeletarEmpresa(e)}}},z=S,j=a("8fea"),C=Object(m["a"])(z,T,_,!1,null,null,null),w=C.exports;p()(C,{VCard:h["a"],VCardTitle:g["b"],VDataTable:j["a"],VIcon:v["a"],VSpacer:x["a"],VTextField:y["a"]});var $={components:{Titulo:o["a"],Formulario:k,Tabela:w},computed:{mostrarTabela:function(){return this.$store.getters.getMostrarTabelaEmpresas}},methods:{salvarEmpresa:function(e){null==e.id?this.cadastrar(e):this.atualizar(e)},cadastrar:function(e){var t=this;this.get$_isHttp.post("/empresas",e).then((function(e){alert("Cadastrado com sucesso!"),t.info=e.data.bpi})).catch((function(e){alert(e.response.data.message)}))},atualizar:function(e){var t=this;this.get$_isHttp.put("/empresas/".concat(e.id),e).then((function(e){alert("Atualizado com sucesso!"),t.info=e.data.bpi})).catch((function(e){alert(e.response.data.message)}))},deletar:function(e){var t=this;this.get$_isHttp.delete("/empresas/".concat(e)).then((function(e){alert("Excluido com sucesso!"),t.info=e.data.bpi})).catch((function(e){alert(e.response.data.message)}))}}},q=$,A=a("62ad"),V=a("0fd9"),I=Object(m["a"])(q,r,i,!1,null,null,null);t["default"]=I.exports;p()(I,{VCol:A["a"],VRow:V["a"]})}}]);
//# sourceMappingURL=empresa.f7d5d51f.js.map